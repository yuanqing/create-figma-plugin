<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>UI — Create Figma Plugin</title><meta name="description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta name="twitter:card"content="summary_large_image"><meta name="twitter:description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta name="twitter:image"content="https://yuanqing.github.io/create-figma-plugin/media/share-ui.png"><meta name="twitter:title"content="UI — Create Figma Plugin"><meta name="viewport"content="width=device-width,initial-scale=1"><meta property="og:description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta property="og:image"content="https://yuanqing.github.io/create-figma-plugin/media/share-ui.png"><meta property="og:title"content="UI — Create Figma Plugin"><link href="/create-figma-plugin/style.css"rel="stylesheet"><link rel="icon"href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cstyle%3E circle %7B fill: %23000; %7D @media (prefers-color-scheme: dark) %7B circle %7B fill: %23fff; %7D %7D %3C/style%3E%3Ccircle cx='50' cy='50' r='50' /%3E%3C/svg%3E%0A"></head><body class="page"><div class="page__skip-to-content"><a href="#content">Skip to content</a></div><header class="page__header"><h1 class="title"><a href="/create-figma-plugin/">Create Figma Plugin</a></h1><button class="menu-toggle-button"aria-expanded="false"><div class="menu-toggle-button__inner">Toggle menu</div><svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-menu"><path fill-rule="evenodd"d="M0 3.25h20v1.5H0v-1.5Zm0 6h20v1.5H0v-1.5Zm20 6H0v1.5h20v-1.5Z"clip-rule="evenodd"/></svg> <svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-close"><path fill-rule="evenodd"d="M10 11.0607L16.4697 17.5303L17.5303 16.4697L11.0607 10L17.5303 3.53033L16.4697 2.46967L10 8.93934L3.53033 2.46967L2.46967 3.53033L8.93934 10L2.46967 16.4697L3.53033 17.5303L10 11.0607Z"clip-rule="evenodd"/></svg></button><nav class="menu"><ul><li><a href="/create-figma-plugin/">Introduction</a></li><li><a href="/create-figma-plugin/quick-start/">Quick start</a></li><li><a href="/create-figma-plugin/configuration/">Configuration</a></li><li><a href="/create-figma-plugin/ui/"class="menu__active">UI</a><div class="menu__toc"><h2 class="menu__toc-header">On this page</h2><ul><li><a href="#using-the-preact-component-library">Using the Preact component library</a></li><li><a href="#using-custom-css">Using custom CSS</a></li><li><a href="#using-tailwind-css">Using Tailwind CSS</a></li><li><a href="#using-react">Using React</a></li><li><a href="#using-a-custom-ui-library">Using a custom UI library</a></li></ul></div></li><li><a href="/create-figma-plugin/utilities/">Utilities</a></li><li><a href="/create-figma-plugin/recipes/">Recipes</a></li><li><a href="/create-figma-plugin/reference-plugins-and-widgets/">Reference plugins/widgets</a></li></ul><ul><li><a href="/create-figma-plugin/storybook/"target="_blank">Storybook</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin/blob/main/CHANGELOG.md#readme"target="_blank">Changelog</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin"target="_blank">GitHub</a></li><li><a href="https://twitter.com/yuanqinglim"target="_blank">@yuanqinglim</a></li></ul><ul><li><a href="https://figma.com/plugin-docs/"target="_blank">Plugin API docs</a></li><li><a href="https://figma.com/widget-docs/"target="_blank">Widget API docs</a></li></ul><div class="menu__version">v4.0.3</div></nav></header><main role="main"class="page__main"><div class="page__main-inner"><div class="content"id="content"><h1>UI</h1><h2 id="using-the-preact-component-library">Using the Preact component library<a aria-hidden class="header-link"tabindex="-1"href="#using-the-preact-component-library">#</a></h2><p><code>@create-figma-plugin/ui</code> is a library of production-grade <a href="https://preactjs.com"target="_blank">Preact</a> components that replicate the Figma/FigJam editor’s UI design.</p><p><a href="/create-figma-plugin/storybook/"><img src="/create-figma-plugin/media/ui-figma-components.png"alt="UI components from @create-figma-plugin/ui"></a></p><p>See the <a href="/create-figma-plugin/storybook/">full library of components in the Storybook</a>.</p><p>The component library ships with <a href="https://figma.com/plugin-docs/css-variables/#list-of-all-available-color-tokens"target="_blank">three themes</a>:</p><ol><li><em>Figma (Light)</em></li><li><em>Figma (Dark)</em></li><li><em>FigJam</em></li></ol><p>If the UI is launched from a Figma plugin/widget, components will automatically render using the <em>Figma</em> theme (either <em>Light</em> or <em>Dark</em>, based on the user’s preferences as set in the Figma app). If the UI is launched from a FigJam plugin/widget, components will automatically render using the <em>FigJam</em> theme.</p><p>To install, do:</p><div data-rehype-pretty-code-fragment=""><pre data-language="sh"data-theme="default"><code data-language="sh"data-theme="default"><span class="line"><span style="color:#d4d4d4">$ npm install @create-figma-plugin/ui preact</span></span></code></pre></div><p>Then, include a call to <a href="/create-figma-plugin/utilities/#showuidataoptions--data"><code>showUI</code></a> in your plugin/widget’s main entry point.</p><p>Consider a toy Figma plugin:</p><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#878787">// src/main.ts</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { showUI } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> () {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">const</span><span style="color:#d4d4d4"> options </span><span style="color:#7cc4f8">=</span><span style="color:#d4d4d4"> { width: </span><span style="color:#d1a8ff">240</span><span style="color:#d4d4d4">, height: </span><span style="color:#d1a8ff">120</span><span style="color:#d4d4d4"> }</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">const</span><span style="color:#d4d4d4"> data </span><span style="color:#7cc4f8">=</span><span style="color:#d4d4d4"> { greeting: </span><span style="color:#d1a8ff">'Hello, World!'</span><span style="color:#d4d4d4"> }</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">  </span><span style="color:#79d297">showUI</span><span style="color:#d4d4d4">(</span><span style="color:#f7d15f">options</span><span style="color:#d4d4d4">, </span><span style="color:#f7d15f">data</span><span style="color:#d4d4d4">)</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><p><code>showUI</code> takes two arguments, and the second <code>data</code> argument is useful for passing some initializing data to the UI.</p><p>Next, create a file for our UI (eg. <code>src/ui.tsx</code>):</p><div data-rehype-pretty-code-fragment=""><pre data-language="tsx"data-theme="default"><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#878787">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { render, Container, Text, VerticalSpace } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { h } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'preact'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">Plugin</span><span style="color:#d4d4d4"> (</span><span style="color:#f7d15f">props</span><span style="color:#7cc4f8">:</span><span style="color:#d4d4d4"> { greeting</span><span style="color:#7cc4f8">:</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">string</span><span style="color:#d4d4d4"> }) {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">return</span><span style="color:#d4d4d4"> (</span></span>
<span class="line"><span style="color:#d4d4d4">    &#x3C;</span><span style="color:#7cc4f8">Container</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">space</span><span style="color:#7cc4f8">=</span><span style="color:#d1a8ff">'medium'</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">      &#x3C;</span><span style="color:#7cc4f8">VerticalSpace</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">space</span><span style="color:#7cc4f8">=</span><span style="color:#d1a8ff">'medium'</span><span style="color:#d4d4d4"> /></span></span>
<span class="line"><span style="color:#d4d4d4">      &#x3C;</span><span style="color:#7cc4f8">Text</span><span style="color:#d4d4d4">>{props.greeting}&#x3C;/</span><span style="color:#7cc4f8">Text</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">      &#x3C;</span><span style="color:#7cc4f8">VerticalSpace</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">space</span><span style="color:#7cc4f8">=</span><span style="color:#d1a8ff">'medium'</span><span style="color:#d4d4d4"> /></span></span>
<span class="line"><span style="color:#d4d4d4">    &#x3C;/</span><span style="color:#7cc4f8">Container</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">  )</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">render</span><span style="color:#d4d4d4">(</span><span style="color:#f7d15f">Plugin</span><span style="color:#d4d4d4">)</span></span></code></pre></div><p>See that:</p><ul><li><code>render</code> takes a single argument, <code>Plugin</code>, which is a <a href="https://preactjs.com/guide/v10/components#functional-components"target="_blank">Preact functional component</a>.</li><li>The <code>props</code> received by the <code>Plugin</code> component is precisely the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul><p>Finally, in <code>package.json</code>, point to our UI file on the <a href="/create-figma-plugin/configuration/#ui"><strong><code>"ui"</code></strong></a> key under <strong><code>"figma-plugin"</code></strong>:</p><div data-rehype-pretty-code-fragment=""><pre data-language="json"data-theme="default"><code data-language="json"data-theme="default"><span class="line"><span style="color:#d4d4d4">{</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#878787">// ...</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">"figma-plugin"</span><span style="color:#d4d4d4">: {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#878787">// ...</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"name"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"Hello World"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"main"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"src/main.ts"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"ui"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"src/ui.tsx"</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><p>When we rebuild our plugin and run it, we’ll see:</p><p><img src="/create-figma-plugin/media/ui-hello-world-figma.png"alt="Figma plugin UI modal with “Hello, World” text"></p><p>See the <a href="/create-figma-plugin/storybook/">Storybook</a> for the full library of Preact components, and the <a href="/create-figma-plugin/recipes/#passing-data-between-the-plugin-widgets-main-and-ui-contexts">recipe for passing data between the plugin/widget’s main and UI contexts</a>.</p><h2 id="using-custom-css">Using custom CSS<a aria-hidden class="header-link"tabindex="-1"href="#using-custom-css">#</a></h2><p>Out of the box, the <code>build-figma-plugin</code> CLI supports <a href="https://github.com/css-modules/css-modules"target="_blank">CSS Modules</a>:</p><div data-rehype-pretty-code-fragment=""><pre data-language="css"data-theme="default"><code data-language="css"data-theme="default"><span class="line"><span style="color:#878787">/* src/styles.css */</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">.container</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#79d297">background-color</span><span style="color:#d4d4d4">: var(--figma-color-bg-secondary);</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><div data-rehype-pretty-code-fragment=""><pre data-language="tsx"data-theme="default"><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#878787">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { render } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { h } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'preact'</span></span>
<span class="line line--highlighted"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> styles </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'./styles.css'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">Plugin</span><span style="color:#d4d4d4"> () {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#878787">// ...</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">return</span><span style="color:#d4d4d4"> (</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;</span><span style="color:#7cc4f8">div</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">class</span><span style="color:#7cc4f8">=</span><span style="color:#d4d4d4">{styles.container}></span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">      {</span><span style="color:#878787">/* ... */</span><span style="color:#d4d4d4">}</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;/</span><span style="color:#7cc4f8">div</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">  )</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">render</span><span style="color:#d4d4d4">(</span><span style="color:#f7d15f">Plugin</span><span style="color:#d4d4d4">)</span></span></code></pre></div><p>By default, all the class names in CSS files imported via an <code>import</code> statement (as in the above example) will be hashed. This is to ensure that <a href="https://github.com/css-modules/css-modules#implementations"target="_blank">each class name is globally unique</a>.</p><p>To directly “inline” a CSS file in your UI <em>without</em> hashing its class names, add a <code>!</code> prefix to the import path:</p><div data-rehype-pretty-code-fragment=""><pre data-language="tsx"data-theme="default"><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#878787">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { render } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { h } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'preact'</span></span>
<span class="line line--highlighted"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'!./styles.css'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">Plugin</span><span style="color:#d4d4d4"> () {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#878787">// ...</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">return</span><span style="color:#d4d4d4"> (</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;</span><span style="color:#7cc4f8">div</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">class</span><span style="color:#7cc4f8">=</span><span style="color:#d1a8ff">"container"</span><span style="color:#d4d4d4">></span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">      {</span><span style="color:#878787">/* ... */</span><span style="color:#d4d4d4">}</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;/</span><span style="color:#7cc4f8">div</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">  )</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">render</span><span style="color:#d4d4d4">(</span><span style="color:#f7d15f">Plugin</span><span style="color:#d4d4d4">)</span></span></code></pre></div><p>Refer to the <a href="https://github.com/yuanqing/create-figma-plugin/blob/main/packages/ui/src/css/base.css"target="_blank"><code>base.css</code></a> file in <code>@create-figma-plugin/ui</code> for the list of CSS variables that are available for use in your custom CSS.</p><h2 id="using-tailwind-css">Using Tailwind CSS<a aria-hidden class="header-link"tabindex="-1"href="#using-tailwind-css">#</a></h2><p>Install <a href="https://tailwindcss.com"target="_blank"><code>tailwindcss</code></a>, <code>preact</code>, and <a href="https://github.com/open-cli-tools/concurrently#readme"target="_blank"><code>concurrently</code></a>:</p><div data-rehype-pretty-code-fragment=""><pre data-language="sh"data-theme="default"><code data-language="sh"data-theme="default"><span class="line"><span style="color:#d4d4d4">$ npm install --save-dev tailwindcss preact concurrently</span></span></code></pre></div><p>Then, create a <a href="https://tailwindcss.com/docs/configuration"target="_blank"><code>tailwind.config.js</code></a> file and <code>src/input.css</code> file:</p><div data-rehype-pretty-code-fragment=""><pre data-language="js"data-theme="default"><code data-language="js"data-theme="default"><span class="line"><span style="color:#878787">// tailwind.config.js</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#878787">/** </span><span style="color:#7cc4f8">@type</span><span style="color:#878787"> {import('tailwindcss').Config} */</span></span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  content: [</span><span style="color:#d1a8ff">'./src/**/*.{ts,tsx}'</span><span style="color:#d4d4d4">],</span></span>
<span class="line"><span style="color:#d4d4d4">  theme: {</span></span>
<span class="line"><span style="color:#d4d4d4">    extend: {},</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">  plugins: [],</span></span>
<span class="line"><span style="color:#d4d4d4">  darkMode: [</span><span style="color:#d1a8ff">'class'</span><span style="color:#d4d4d4">, </span><span style="color:#d1a8ff">'.figma-dark'</span><span style="color:#d4d4d4">]</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><div data-rehype-pretty-code-fragment=""><pre data-language="css"data-theme="default"><code data-language="css"data-theme="default"><span class="line"><span style="color:#878787">/* src/input.css */</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">@tailwind</span><span style="color:#d4d4d4"> base;</span></span>
<span class="line"><span style="color:#7cc4f8">@tailwind</span><span style="color:#d4d4d4"> components;</span></span>
<span class="line"><span style="color:#7cc4f8">@tailwind</span><span style="color:#d4d4d4"> utilities;</span></span></code></pre></div><p>Update the scripts in <code>package.json</code> to invoke the <code>tailwindcss</code> CLI:</p><div data-rehype-pretty-code-fragment=""><pre data-language="json"data-theme="default"><code data-language="json"data-theme="default"><span class="line"><span style="color:#d4d4d4">{</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">"scripts"</span><span style="color:#d4d4d4">: {</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"build"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"npm run build:css &#x26;&#x26; npm run build:js"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"build:css"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"tailwindcss --input ./src/input.css --output ./src/output.css"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"build:js"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"build-figma-plugin --typecheck --minify"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"watch"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"npm run build:css &#x26;&#x26; concurrently npm:watch:css npm:watch:js"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"watch:css"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"tailwindcss --input ./src/input.css --output ./src/output.css --watch"</span><span style="color:#d4d4d4">,</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"watch:js"</span><span style="color:#d4d4d4">: </span><span style="color:#d1a8ff">"build-figma-plugin --typecheck --watch"</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><p>Then, import the generated stylesheet (<code>./src/output.css</code>) in your UI:</p><div data-rehype-pretty-code-fragment=""><pre data-language="tsx"data-theme="default"><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#878787">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { render } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { h } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'preact'</span></span>
<span class="line line--highlighted"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'!./output.css'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">Plugin</span><span style="color:#d4d4d4"> () {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">return</span><span style="color:#d4d4d4"> (</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;</span><span style="color:#7cc4f8">h1</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">class</span><span style="color:#7cc4f8">=</span><span style="color:#d1a8ff">"text-3xl font-bold underline"</span><span style="color:#d4d4d4">></span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">      Hello, World!</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    &#x3C;/</span><span style="color:#7cc4f8">h1</span><span style="color:#d4d4d4">></span></span>
<span class="line"><span style="color:#d4d4d4">  )</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">render</span><span style="color:#d4d4d4">(</span><span style="color:#f7d15f">Plugin</span><span style="color:#d4d4d4">)</span></span></code></pre></div><p>Note the use of a <code>!</code> prefix before the stylesheet import path – this is to “inline” the CSS file <em>without</em> hashing its class names.</p><p>For a runnable example, try the <a href="https://github.com/yuanqing/create-figma-plugin/tree/main/packages/create-figma-plugin/templates/plugin/preact-tailwindcss"target="_blank"><code>preact-tailwindcss</code></a> plugin template:</p><div data-rehype-pretty-code-fragment=""><pre data-language="sh"data-theme="default"><code data-language="sh"data-theme="default"><span class="line"><span style="color:#d4d4d4">$ npx --yes create-figma-plugin --template plugin/preact-tailwindcss</span></span></code></pre></div><h2 id="using-react">Using React<a aria-hidden class="header-link"tabindex="-1"href="#using-react">#</a></h2><p>When building your plugin/widget, the <code>build-figma-plugin</code> CLI will detect and automatically swap out all <code>react</code> and <code>react-dom</code> imports with <a href="https://preactjs.com/guide/v10/switching-to-preact/"target="_blank"><code>preact/compat</code></a>. This means that it’s possible to seamlessly use React components alongside the Preact components from the <code>@create-figma-plugin/ui</code> library.</p><p>(If you still prefer to bundle React rather than Preact, see the <a href="/create-figma-plugin/recipes/#disabling-automatic-swapping-of-react-imports">recipe to disable the automatic swapping of React imports</a>.)</p><p>If you want to use a React component in your UI, add the following configuration to your <code>tsconfig.json</code>:</p><div data-rehype-pretty-code-fragment=""><pre data-language="json"data-theme="default"><code data-language="json"data-theme="default"><span class="line"><span style="color:#d4d4d4">{</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#7cc4f8">"compilerOptions"</span><span style="color:#d4d4d4">: {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#878787">// ...</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"paths"</span><span style="color:#d4d4d4">: {</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">      </span><span style="color:#7cc4f8">"react"</span><span style="color:#d4d4d4">: [</span><span style="color:#d1a8ff">"./node_modules/preact/compat"</span><span style="color:#d4d4d4">],</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">      </span><span style="color:#7cc4f8">"react-dom"</span><span style="color:#d4d4d4">: [</span><span style="color:#d1a8ff">"./node_modules/preact/compat"</span><span style="color:#d4d4d4">]</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    },</span></span>
<span class="line line--highlighted"><span style="color:#d4d4d4">    </span><span style="color:#7cc4f8">"skipLibCheck"</span><span style="color:#d4d4d4">: </span><span style="color:#f7d15f">true</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><p>This is to <a href="https://preactjs.com/guide/v10/getting-started#aliasing-in-typescript"target="_blank">ensure that Preact’s types are used in place of React’s</a>, and to suppress TypeScript compilation errors when any React component uses types not provided by <code>preact/compat</code>.</p><p>For a runnable example, try the <a href="https://github.com/yuanqing/create-figma-plugin/tree/main/packages/create-figma-plugin/templates/plugin/react-editor"target="_blank"><code>react-editor</code></a> plugin template:</p><div data-rehype-pretty-code-fragment=""><pre data-language="sh"data-theme="default"><code data-language="sh"data-theme="default"><span class="line"><span style="color:#d4d4d4">$ npx --yes create-figma-plugin --template plugin/react-editor</span></span></code></pre></div><h2 id="using-a-custom-ui-library">Using a custom UI library<a aria-hidden class="header-link"tabindex="-1"href="#using-a-custom-ui-library">#</a></h2><p>To use a custom UI library instead of <code>@create-figma-plugin/ui</code>, write your UI implementation as follows:</p><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#878787">// src/ui.ts</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#7cc4f8">export</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">default</span><span style="color:#d4d4d4"> </span><span style="color:#7cc4f8">function</span><span style="color:#d4d4d4"> (</span><span style="color:#f7d15f">rootNode</span><span style="color:#7cc4f8">:</span><span style="color:#d4d4d4"> HTMLElement, </span><span style="color:#f7d15f">data</span><span style="color:#7cc4f8">:</span><span style="color:#d4d4d4"> { greeting</span><span style="color:#7cc4f8">:</span><span style="color:#d4d4d4"> </span><span style="color:#79d297">string</span><span style="color:#d4d4d4"> }) {</span></span>
<span class="line"><span style="color:#d4d4d4">  rootNode.innerHTML </span><span style="color:#7cc4f8">=</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">`&#x3C;p>${</span><span style="color:#d1a8ff">data.greeting</span><span style="color:#d1a8ff">}&#x3C;/p>`</span><span style="color:#d4d4d4"> </span><span style="color:#878787">//=> &#x3C;p>Hello, World!&#x3C;/p></span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div><p>The exported function receives two arguments:</p><ul><li><code>rootNode</code> — An empty <code>&#x3C;div></code> element within which you can render your UI.</li><li><code>data</code> — This corresponds to the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul></div><ul class="pagination"><li class="pagination__previous"><a href="/create-figma-plugin/configuration/">Configuration</a></li><li class="pagination__next"><a href="/create-figma-plugin/utilities/">Utilities</a></li></ul></div></main><script src="/create-figma-plugin/script.js"></script><script>var sc_project=12531644,sc_invisible=1,sc_security="95d0263e"</script><script async src="https://www.statcounter.com/counter/counter.js"></script><noscript><img src="https://c.statcounter.com/12531644/0/95d0263e/1/"alt=""></noscript></body></html>