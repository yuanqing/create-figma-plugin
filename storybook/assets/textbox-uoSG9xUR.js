import{_ as m}from"./preact.module-7_OotSvk.js";import{c as q}from"./create-class-name-irFPZBOU.js";import{c as I,A,d as X,q as o}from"./create-component-CR2aSVXZ.js";import{g as Y}from"./get-current-from-ref-J2nPd355.js";import{n as s}from"./no-op-DX6rZLP_.js";import{i as $}from"./is-keycode-character-generating-C88G8DHI.js";import{a as g}from"./mixed-values-CZ6RGhGs.js";import{s as l}from"./textbox.module-BTiVByXg.js";const p="",j=I(function({disabled:e=!1,onBlur:i=s,onFocus:d=s,onInput:h=s,onKeyDown:x=s,onMouseDown:T=s,onValueInput:y=s,password:R=!1,placeholder:k,propagateEscapeKeyDown:w=!0,revertOnEscapeKeyDown:C=!1,spellCheck:M=!1,validateOnBlur:b,value:n,...D},c){const E=A(null),[f,u]=X(p),a=o(function(t){const r=Y(E);r.value=t;const P=new window.Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(P)},[]),G=o(function(t){if(i(t),typeof b<"u"){const r=b(n);if(typeof r=="string"){a(r),u(p);return}if(r===!1){n!==f&&a(f),u(p);return}}u(p)},[i,f,a,b,n]),N=o(function(t){d(t),u(n),t.currentTarget.select()},[d,n]),S=o(function(t){h(t);const r=t.currentTarget.value;y(r)},[h,y]),V=o(function(t){if(x(t),t.key==="Escape"){C===!0&&(a(f),u(p)),w===!1&&t.stopPropagation(),t.currentTarget.blur();return}n===g&&$(t.keyCode)===!1&&(t.preventDefault(),t.currentTarget.select())},[x,f,w,C,a,n]),_=o(function(t){T(t),n===g&&(t.preventDefault(),t.currentTarget.select())},[T,n]),F=o(function(t){if(E.current=t,c!==null){if(typeof c=="function"){c(t);return}c.current=t}},[c]);return m("input",{...D,ref:F,disabled:e===!0,onBlur:G,onFocus:N,onInput:S,onKeyDown:V,onMouseDown:_,placeholder:k,spellcheck:M,tabIndex:0,type:R===!0?"password":"text",value:n===g?"Mixed":n})}),Z=I(function({icon:e,...i},d){if(typeof e=="string"&&e.length!==1)throw new Error(`String \`icon\` must be a single character: ${e}`);return m("div",{class:q([l.textbox,typeof e>"u"?null:l.hasIcon,i.disabled===!0?l.disabled:null])},m(j,{...i,ref:d,class:l.input}),typeof e>"u"?null:m("div",{class:l.icon},e))});export{Z as T};
