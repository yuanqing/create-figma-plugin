<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Utilities — Create Figma Plugin</title><meta name="description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta name="twitter:card"content="summary_large_image"><meta name="twitter:description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta name="twitter:image"content="https://yuanqing.github.io/create-figma-plugin/media/share-utilities.png"><meta name="twitter:title"content="Utilities — Create Figma Plugin"><meta name="viewport"content="width=device-width,initial-scale=1"><meta property="og:description"content="The comprehensive toolkit for developing plugins and widgets for Figma"><meta property="og:image"content="https://yuanqing.github.io/create-figma-plugin/media/share-utilities.png"><meta property="og:title"content="Utilities — Create Figma Plugin"><link href="/create-figma-plugin/style.css"rel="stylesheet"><link rel="icon"href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cstyle%3E circle %7B fill: %23000; %7D @media (prefers-color-scheme: dark) %7B circle %7B fill: %23fff; %7D %7D %3C/style%3E%3Ccircle cx='50' cy='50' r='50' /%3E%3C/svg%3E%0A"></head><body class="page"><div class="page__skip-to-content"><a href="#content">Skip to content</a></div><header class="page__header"><h1 class="title"><a href="/create-figma-plugin/">Create Figma Plugin</a></h1><button class="menu-toggle-button"aria-expanded="false"><div class="menu-toggle-button__inner">Toggle menu</div><svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-menu"><path fill-rule="evenodd"d="M0 3.25h20v1.5H0v-1.5Zm0 6h20v1.5H0v-1.5Zm20 6H0v1.5h20v-1.5Z"clip-rule="evenodd"/></svg> <svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-close"><path fill-rule="evenodd"d="M10 11.0607L16.4697 17.5303L17.5303 16.4697L11.0607 10L17.5303 3.53033L16.4697 2.46967L10 8.93934L3.53033 2.46967L2.46967 3.53033L8.93934 10L2.46967 16.4697L3.53033 17.5303L10 11.0607Z"clip-rule="evenodd"/></svg></button><nav class="menu"><ul><li><a href="/create-figma-plugin/">Introduction</a></li><li><a href="/create-figma-plugin/quick-start/">Quick start</a></li><li><a href="/create-figma-plugin/configuration/">Configuration</a></li><li><a href="/create-figma-plugin/ui/">UI</a></li><li><a href="/create-figma-plugin/utilities/"class="menu__active">Utilities</a><div class="menu__toc"><h2 class="menu__toc-header">On this page</h2><ul><li><a href="#overview">Overview</a></li><li><a href="#color">Color</a><ul><li><a href="#convert-hex-color-to-rgb-color"><code>convertHexColorToRgbColor</code></a></li><li><a href="#convert-named-color-to-hex-color"><code>convertNamedColorToHexColor</code></a></li><li><a href="#convert-rgb-color-to-hex-color"><code>convertRgbColorToHexColor</code></a></li><li><a href="#is-valid-hex-color"><code>isValidHexColor</code></a></li></ul></li><li><a href="#events">Events</a><ul><li><a href="#emit"><code>emit</code></a></li><li><a href="#on"><code>on</code></a></li><li><a href="#once"><code>once</code></a></li></ul></li><li><a href="#function">Function</a><ul><li><a href="#ensure-minimum-time"><code>ensureMinimumTime</code></a></li></ul></li><li><a href="#image">Image</a><ul><li><a href="#create-canvas-element-from-blob-async"><code>createCanvasElementFromBlobAsync</code></a></li><li><a href="#create-canvas-element-from-bytes-async"><code>createCanvasElementFromBytesAsync</code></a></li><li><a href="#create-canvas-element-from-image-element"><code>createCanvasElementFromImageElement</code></a></li><li><a href="#create-image-element-from-blob-async"><code>createImageElementFromBlobAsync</code></a></li><li><a href="#create-image-element-from-bytes-async"><code>createImageElementFromBytesAsync</code></a></li><li><a href="#create-image-paint"><code>createImagePaint</code></a></li><li><a href="#read-bytes-from-canvas-element-async"><code>readBytesFromCanvasElementAsync</code></a></li></ul></li><li><a href="#monetization">Monetization</a><ul><li><a href="#get-document-use-count"><code>getDocumentUseCount</code></a></li><li><a href="#get-total-use-count-async"><code>getTotalUseCountAsync</code></a></li><li><a href="#increment-document-use-count"><code>incrementDocumentUseCount</code></a></li><li><a href="#increment-total-use-count-async"><code>incrementTotalUseCountAsync</code></a></li><li><a href="#reset-document-use-count"><code>resetDocumentUseCount</code></a></li><li><a href="#reset-total-use-count-async"><code>resetTotalUseCountAsync</code></a></li></ul></li><li><a href="#node">Node</a><ul><li><a href="#are-sibling-nodes"><code>areSiblingNodes</code></a></li><li><a href="#collapse-layer"><code>collapseLayer</code></a></li><li><a href="#compute-bounding-box"><code>computeBoundingBox</code></a></li><li><a href="#compute-maximum-bounds"><code>computeMaximumBounds</code></a></li><li><a href="#compute-sibling-nodes"><code>computeSiblingNodes</code></a></li><li><a href="#deduplicate-nodes"><code>deduplicateNodes</code></a></li><li><a href="#get-absolute-position"><code>getAbsolutePosition</code></a></li><li><a href="#get-document-components"><code>getDocumentComponents</code></a></li><li><a href="#get-node-index-path"><code>getNodeIndexPath</code></a></li><li><a href="#get-parent-node"><code>getParentNode</code></a></li><li><a href="#get-scene-node-by-id"><code>getSceneNodeById</code></a></li><li><a href="#get-selected-nodes-or-all-nodes"><code>getSelectedNodesOrAllNodes</code></a></li><li><a href="#insert-after-node"><code>insertAfterNode</code></a></li><li><a href="#insert-before-node"><code>insertBeforeNode</code></a></li><li><a href="#is-locked"><code>isLocked</code></a></li><li><a href="#is-visible"><code>isVisible</code></a></li><li><a href="#is-within-instance-node"><code>isWithinInstanceNode</code></a></li><li><a href="#load-fonts-async"><code>loadFontsAsync</code></a></li><li><a href="#set-absolute-position"><code>setAbsolutePosition</code></a></li><li><a href="#set-relaunch-button"><code>setRelaunchButton</code></a></li><li><a href="#sort-nodes-by-canonical-order"><code>sortNodesByCanonicalOrder</code></a></li><li><a href="#sort-nodes-by-name"><code>sortNodesByName</code></a></li><li><a href="#traverse-node"><code>traverseNode</code></a></li><li><a href="#traverse-node-async"><code>traverseNodeAsync</code></a></li><li><a href="#unset-relaunch-button"><code>unsetRelaunchButton</code></a></li><li><a href="#update-nodes-sort-order"><code>updateNodesSortOrder</code></a></li></ul></li><li><a href="#number">Number</a><ul><li><a href="#evaluate-numeric-expression"><code>evaluateNumericExpression</code></a></li><li><a href="#is-valid-numeric-input"><code>isValidNumericInput</code></a></li></ul></li><li><a href="#object">Object</a><ul><li><a href="#clone-object"><code>cloneObject</code></a></li><li><a href="#compare-objects"><code>compareObjects</code></a></li><li><a href="#compare-string-arrays"><code>compareStringArrays</code></a></li><li><a href="#deduplicate-array"><code>deduplicateArray</code></a></li><li><a href="#extract-attributes"><code>extractAttributes</code></a></li></ul></li><li><a href="#settings">Settings</a><ul><li><a href="#load-settings-async"><code>loadSettingsAsync</code></a></li><li><a href="#save-settings-async"><code>saveSettingsAsync</code></a></li></ul></li><li><a href="#string">String</a><ul><li><a href="#format-error-message"><code>formatErrorMessage</code></a></li><li><a href="#format-success-message"><code>formatSuccessMessage</code></a></li><li><a href="#format-warning-message"><code>formatWarningMessage</code></a></li><li><a href="#pluralize"><code>pluralize</code></a></li></ul></li><li><a href="#ui">UI</a><ul><li><a href="#show-ui"><code>showUI</code></a></li></ul></li></ul></div></li><li><a href="/create-figma-plugin/recipes/">Recipes</a></li><li><a href="/create-figma-plugin/reference-plugins-and-widgets/">Reference plugins/widgets</a></li></ul><ul><li><a href="/create-figma-plugin/storybook/"target="_blank">Storybook</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin/blob/main/CHANGELOG.md#readme"target="_blank">Changelog</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin"target="_blank">GitHub</a></li><li><a href="https://twitter.com/yuanqinglim"target="_blank">@yuanqinglim</a></li></ul><ul><li><a href="https://figma.com/plugin-docs/"target="_blank">Plugin API docs</a></li><li><a href="https://figma.com/widget-docs/"target="_blank">Widget API docs</a></li></ul><div class="menu__version">v4.0.2-alpha.0</div></nav></header><main role="main"class="page__main"><div class="page__main-inner"><div class="content"id="content"><h1>Utilities</h1><h2 id="overview">Overview<a aria-hidden class="header-link"tabindex="-1"href="#overview">#</a></h2><p><code>@create-figma-plugin/utilities</code> is a library of utility functions for common Figma/FigJam plugin/widget operations. It is meant to complement the Figma/FigJam <a href="https://figma.com/plugin-docs/api/api-reference/"target="_blank">plugin API</a> and <a href="https://figma.com/widget-docs/api/api-reference/"target="_blank">widget API</a>.</p><p>To install:</p><div data-rehype-pretty-code-fragment=""><pre data-language="sh"data-theme="default"><code data-language="sh"data-theme="default"><span class="line"><span style="color:#d4d4d4">$ npm install @create-figma-plugin/utilities</span></span></code></pre></div><p>When used with the <code>build-figma-plugin</code> CLI, only the functions explicitly imported by your plugin/widget will be included in the generated JavaScript bundle(s).</p><h2 id="color">Color<a aria-hidden class="header-link"tabindex="-1"href="#color">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  convertHexColorToRgbColor,</span></span>
<span class="line"><span style="color:#d4d4d4">  convertNamedColorToHexColor,</span></span>
<span class="line"><span style="color:#d4d4d4">  convertRgbColorToHexColor,</span></span>
<span class="line"><span style="color:#d4d4d4">  isValidHexColor</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="convert-hex-color-to-rgb-color"><code>convertHexColorToRgbColor(hexColor)</code><a aria-hidden class="header-link"tabindex="-1"href="#convert-hex-color-to-rgb-color">#</a></h3><p>Converts the given <code>hexColor</code> (eg. <code>000000</code>) to RGB format (eg. <code>{ r: 0, g: 0, b: 0 }</code>). Each value in the returned <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object is between <code>0</code> and <code>1</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>hexColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object, else <code>null</code> if <code>hexColor</code> was invalid.</p><pre><code>null | RGB
</code></pre><h3 id="convert-named-color-to-hex-color"><code>convertNamedColorToHexColor(namedColor)</code><a aria-hidden class="header-link"tabindex="-1"href="#convert-named-color-to-hex-color">#</a></h3><p>Converts the given <code>namedColor</code> (eg. <code>black</code>) to hexadecimal format (eg. <code>000000</code>).</p><p><em><strong>Parameters</strong></em></p><ul><li><code>namedColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a hexadecimal color as an uppercase string, else <code>null</code> if <code>namedColor</code> was invalid.</p><pre><code>null | string
</code></pre><h3 id="convert-rgb-color-to-hex-color"><code>convertRgbColorToHexColor(rgbColor)</code><a aria-hidden class="header-link"tabindex="-1"href="#convert-rgb-color-to-hex-color">#</a></h3><p>Converts the given <code>rgbColor</code> (eg. <code>{ r: 0, g: 0, b: 0 }</code>) to hexadecimal format (eg. <code>000000</code>). Each value in the given <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object must be between <code>0</code> and <code>1</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>rgbColor</code> (<code>RGB</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a hexadecimal color as an uppercase string, else <code>null</code> if <code>rgbColor</code> was invalid.</p><pre><code>null | string
</code></pre><h3 id="is-valid-hex-color"><code>isValidHexColor(hexColor)</code><a aria-hidden class="header-link"tabindex="-1"href="#is-valid-hex-color">#</a></h3><p>Returns <code>true</code> if <code>hexColor</code> is a valid hexadecimal color.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>hexColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>boolean
</code></pre><h2 id="events">Events<a aria-hidden class="header-link"tabindex="-1"href="#events">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  emit,</span></span>
<span class="line"><span style="color:#d4d4d4">  on,</span></span>
<span class="line"><span style="color:#d4d4d4">  once</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="emit"><code>emit&#x3C;Handler>(name, ...args)</code><a aria-hidden class="header-link"tabindex="-1"href="#emit">#</a></h3><p>Calling <code>emit</code> in the <a href="https://figma.com/plugin-docs/how-plugins-run/"target="_blank">main context</a> invokes the event handler for the matching event <code>name</code> in your UI. Correspondingly, calling <code>emit</code> in your UI invokes the event handler for the matching event <code>name</code> in the main context.</p><p>All <code>args</code> passed after <code>name</code> will be directly <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"target="_blank">applied</a> on the event handler.</p><p>See the <a href="/create-figma-plugin/recipes/#passing-data-between-the-plugin-widgets-main-and-ui-contexts">recipe for passing data between the main and UI contexts</a>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler["name"]</code>)</li><li><code>args</code> (<code>Parameters&#x3C;Handler["handler"]></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="on"><code>on&#x3C;Handler>(name, handler)</code><a aria-hidden class="header-link"tabindex="-1"href="#on">#</a></h3><p>Registers an event <code>handler</code> for the given event <code>name</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler['name']</code>)</li><li><code>handler</code> (<code>Handler['handler']</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a function for deregistering the <code>handler</code>.</p><pre><code>() => void
</code></pre><h3 id="once"><code>once&#x3C;Handler>(name, handler)</code><a aria-hidden class="header-link"tabindex="-1"href="#once">#</a></h3><p>Registers an event <code>handler</code> that will run at most once for the given event <code>name</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler['name']</code>)</li><li><code>handler</code> (<code>Handler['handler']</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a function for deregistering the <code>handler</code>.</p><pre><code>() => void
</code></pre><h2 id="function">Function<a aria-hidden class="header-link"tabindex="-1"href="#function">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { ensureMinimumTime } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="ensure-minimum-time"><code>ensureMinimumTime&#x3C;S, T>(minimumTime, callback)</code><a aria-hidden class="header-link"tabindex="-1"href="#ensure-minimum-time">#</a></h3><p>Creates an <code>async</code> function that will invoke the given <code>callback</code> and run for at least <code>minimumTime</code> (in milliseconds).</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>S</code></li><li><code>T</code> (<code>any[]</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>minimumTime</code> (<code>number</code>)</li><li><code>callback</code> (<code>(...args: T) => Promise&#x3C;S></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>(...args: T) => Promise&#x3C;S>
</code></pre><h2 id="image">Image<a aria-hidden class="header-link"tabindex="-1"href="#image">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  createCanvasElementFromBlobAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  createCanvasElementFromBytesAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  createCanvasElementFromImageElement,</span></span>
<span class="line"><span style="color:#d4d4d4">  createImageElementFromBlobAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  createImageElementFromBytesAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  createImagePaint,</span></span>
<span class="line"><span style="color:#d4d4d4">  readBytesFromCanvasElementAsync</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="create-canvas-element-from-blob-async"><code>createCanvasElementFromBlobAsync(blob)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-canvas-element-from-blob-async">#</a></h3><p>Creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement"target="_blank"><code>HTMLCanvasElement</code></a> from a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob"target="_blank"><code>blob</code></a> representing an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>blob</code> (<code>Blob</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;HTMLCanvasElement>
</code></pre><h3 id="create-canvas-element-from-bytes-async"><code>createCanvasElementFromBytesAsync(bytes)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-canvas-element-from-bytes-async">#</a></h3><p>Creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement"target="_blank"><code>HTMLCanvasElement</code></a> from the <code>bytes</code> of an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>bytes</code> (<code>Uint8Array</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;HTMLCanvasElement>
</code></pre><h3 id="create-canvas-element-from-image-element"><code>createCanvasElementFromImageElement(imageElement)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-canvas-element-from-image-element">#</a></h3><p>Creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement"target="_blank"><code>HTMLCanvasElement</code></a> from an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement"target="_blank"><code>HTMLImageElement</code></a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>imageElement</code> (<code>HTMLImageElement</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;HTMLCanvasElement>
</code></pre><h3 id="create-image-element-from-blob-async"><code>createImageElementFromBlobAsync(blob)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-image-element-from-blob-async">#</a></h3><p>Creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement"target="_blank"><code>HTMLImageElement</code></a> from a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob"target="_blank"><code>blob</code></a> representing an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>blob</code> (<code>Blob</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;HTMLImageElement>
</code></pre><h3 id="create-image-element-from-bytes-async"><code>createImageElementFromBytesAsync(bytes)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-image-element-from-bytes-async">#</a></h3><p>Creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement"target="_blank"><code>HTMLImageElement</code></a> from the <code>bytes</code> of an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>bytes</code> (<code>Uint8Array</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;HTMLImageElement>
</code></pre><h3 id="create-image-paint"><code>createImagePaint(bytes)</code><a aria-hidden class="header-link"tabindex="-1"href="#create-image-paint">#</a></h3><p>Creates an <a href="https://figma.com/plugin-docs/api/Paint/#imagepaint"target="_blank"><code>ImagePaint</code></a> object from the <code>bytes</code> of an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>bytes</code> (<code>Uint8Array</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>ImagePaint
</code></pre><h3 id="read-bytes-from-canvas-element-async"><code>readBytesFromCanvasElementAsync(canvasElement)</code><a aria-hidden class="header-link"tabindex="-1"href="#read-bytes-from-canvas-element-async">#</a></h3><p>Read the bytes off an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement"target="_blank"><code>HTMLCanvasElement</code></a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>canvasElement</code> (<code>HTMLCanvasElement</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;Uint8Array>
</code></pre><h2 id="monetization">Monetization<a aria-hidden class="header-link"tabindex="-1"href="#monetization">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  getDocumentUseCount,</span></span>
<span class="line"><span style="color:#d4d4d4">  getTotalUseCountAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  incrementDocumentUseCount,</span></span>
<span class="line"><span style="color:#d4d4d4">  incrementTotalUseCountAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  resetDocumentUseCount,</span></span>
<span class="line"><span style="color:#d4d4d4">  resetTotalUseCountAsync</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="get-document-use-count"><code>getDocumentUseCount([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#get-document-use-count">#</a></h3><p>Returns the plugin’s use count for the current document.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>number
</code></pre><h3 id="get-total-use-count-async"><code>getTotalUseCountAsync([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#get-total-use-count-async">#</a></h3><p>Returns the plugin’s total use count.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;number>
</code></pre><h3 id="increment-document-use-count"><code>incrementDocumentUseCount([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#increment-document-use-count">#</a></h3><p>Increments the plugin’s use count for the current document.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the plugin’s new use count for the current document.</p><pre><code>number
</code></pre><h3 id="increment-total-use-count-async"><code>incrementTotalUseCountAsync([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#increment-total-use-count-async">#</a></h3><p>Increments the plugin’s total use count.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the plugin’s new total use count.</p><pre><code>Promise&#x3C;number>
</code></pre><h3 id="reset-document-use-count"><code>resetDocumentUseCount([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#reset-document-use-count">#</a></h3><p>Resets the plugin’s use count for the current document to <code>0</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="reset-total-use-count-async"><code>resetTotalUseCountAsync([key])</code><a aria-hidden class="header-link"tabindex="-1"href="#reset-total-use-count-async">#</a></h3><p>Resets the plugin’s total use count to <code>0</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h2 id="node">Node<a aria-hidden class="header-link"tabindex="-1"href="#node">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  areSiblingNodes,</span></span>
<span class="line"><span style="color:#d4d4d4">  collapseLayer,</span></span>
<span class="line"><span style="color:#d4d4d4">  computeBoundingBox,</span></span>
<span class="line"><span style="color:#d4d4d4">  computeMaximumBounds,</span></span>
<span class="line"><span style="color:#d4d4d4">  computeSiblingNodes,</span></span>
<span class="line"><span style="color:#d4d4d4">  deduplicateNodes,</span></span>
<span class="line"><span style="color:#d4d4d4">  getAbsolutePosition,</span></span>
<span class="line"><span style="color:#d4d4d4">  getDocumentComponents,</span></span>
<span class="line"><span style="color:#d4d4d4">  getNodeIndexPath,</span></span>
<span class="line"><span style="color:#d4d4d4">  getParentNode,</span></span>
<span class="line"><span style="color:#d4d4d4">  getSceneNodeById,</span></span>
<span class="line"><span style="color:#d4d4d4">  getSelectedNodesOrAllNodes,</span></span>
<span class="line"><span style="color:#d4d4d4">  insertAfterNode,</span></span>
<span class="line"><span style="color:#d4d4d4">  insertBeforeNode,</span></span>
<span class="line"><span style="color:#d4d4d4">  isLocked,</span></span>
<span class="line"><span style="color:#d4d4d4">  isVisible,</span></span>
<span class="line"><span style="color:#d4d4d4">  isWithinInstanceNode,</span></span>
<span class="line"><span style="color:#d4d4d4">  loadFontsAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  setAbsolutePosition,</span></span>
<span class="line"><span style="color:#d4d4d4">  setRelaunchButton,</span></span>
<span class="line"><span style="color:#d4d4d4">  sortNodesByCanonicalOrder,</span></span>
<span class="line"><span style="color:#d4d4d4">  sortNodesByName,</span></span>
<span class="line"><span style="color:#d4d4d4">  traverseNode,</span></span>
<span class="line"><span style="color:#d4d4d4">  traverseNodeAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  unsetRelaunchButton,</span></span>
<span class="line"><span style="color:#d4d4d4">  updateNodesSortOrder</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="are-sibling-nodes"><code>areSiblingNodes(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#are-sibling-nodes">#</a></h3><p>Checks if all nodes in <code>nodes</code> are sibling nodes.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if all nodes in <code>nodes</code> are sibling nodes, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="collapse-layer"><code>collapseLayer(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#collapse-layer">#</a></h3><p>Collapses <code>node</code> and all its child nodes in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if at least one layer in the layer list was collapsed by the function, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="compute-bounding-box"><code>computeBoundingBox(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#compute-bounding-box">#</a></h3><p>Computes the coordinates (<code>x</code>, <code>y</code>) and dimensions (<code>width</code>, <code>height</code>) of the smallest bounding box that contains the given <code>node</code>. (Does not account for strokes or effects that could extend beyond the node’s bounding box.)</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the bounding box as a <a href="https://figma.com/plugin-docs/api/Rect/"target="_blank"><code>Rect</code></a>.</p><pre><code>Rect
</code></pre><h3 id="compute-maximum-bounds"><code>computeMaximumBounds(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#compute-maximum-bounds">#</a></h3><p>Computes the absolute coordinates of the top-left and bottom-right corners of the smallest bounding box that contains the given <code>nodes</code>. (Does not account for strokes or effects that could extend beyond the nodes’ bounding box.)</p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of two <a href="https://figma.com/plugin-docs/api/Vector/"target="_blank"><code>Vector</code></a> objects, one for the top-left corner and another for the bottom-right corner.</p><pre><code>[Vector, Vector]
</code></pre><h3 id="compute-sibling-nodes"><code>computeSiblingNodes&#x3C;Node>(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#compute-sibling-nodes">#</a></h3><p>Splits <code>nodes</code> into groups of sibling nodes.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of array of sibling <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Array&#x3C;Node>>
</code></pre><h3 id="deduplicate-nodes"><code>deduplicateNodes&#x3C;Node>(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#deduplicate-nodes">#</a></h3><p>Returns the result of deduplicating the nodes in <code>nodes</code>. Does not modify the original <code>nodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of unique <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="get-absolute-position"><code>getAbsolutePosition(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#get-absolute-position">#</a></h3><p>Returns the <code>x</code> and <code>y</code> position of the given <code>node</code> relative to the page.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a <a href="https://figma.com/plugin-docs/api/Vector/"target="_blank"><code>Vector</code></a>.</p><pre><code>Vector
</code></pre><h3 id="get-document-components"><code>getDocumentComponents()</code><a aria-hidden class="header-link"tabindex="-1"href="#get-document-components">#</a></h3><p>Returns all the local Components in the current document.</p><p><em><strong>Return type</strong></em></p><pre><code>Array&#x3C;ComponentNode>
</code></pre><h3 id="get-node-index-path"><code>getNodeIndexPath(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#get-node-index-path">#</a></h3><p>Gets the index path to the <code>node</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array representing the index path to the given <code>node</code>, starting from <code>figma.root</code></p><pre><code>Array&#x3C;number>
</code></pre><h3 id="get-parent-node"><code>getParentNode(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#get-parent-node">#</a></h3><p>Returns the parent node of the given <code>node</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Throws an error if <code>node.parent</code> is <code>null</code>, else returns <code>node.parent</code>.</p><pre><code>BaseNode &#x26; ChildrenMixin
</code></pre><h3 id="get-scene-node-by-id"><code>getSceneNodeById&#x3C;Node>(id)</code><a aria-hidden class="header-link"tabindex="-1"href="#get-scene-node-by-id">#</a></h3><p>Returns the <code>SceneNode</code> in the current document with the given <code>id</code>. This is a convenience function that wraps the <a href="https://figma.com/plugin-docs/api/figma/#getnodebyid"target="_blank"><code>figma.getNodeById</code></a> function.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>id</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Throws an error if no <code>SceneNode</code> with the given <code>id</code> exists, else returns the node cast to the specified <code>Node</code> type parameter.</p><pre><code>Node
</code></pre><h3 id="get-selected-nodes-or-all-nodes"><code>getSelectedNodesOrAllNodes()</code><a aria-hidden class="header-link"tabindex="-1"href="#get-selected-nodes-or-all-nodes">#</a></h3><p>Returns the selected nodes, or all the top-level nodes on the current page if no nodes are selected.</p><p><em><strong>Return type</strong></em></p><pre><code>Array&#x3C;SceneNode>
</code></pre><h3 id="insert-after-node"><code>insertAfterNode(node, referenceNode)</code><a aria-hidden class="header-link"tabindex="-1"href="#insert-after-node">#</a></h3><p>Inserts <code>node</code> <em>after</em> the <code>referenceNode</code> in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>referenceNode</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="insert-before-node"><code>insertBeforeNode(node, referenceNode)</code><a aria-hidden class="header-link"tabindex="-1"href="#insert-before-node">#</a></h3><p>Inserts <code>node</code> <em>before</em> the <code>referenceNode</code> in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>referenceNode</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="is-locked"><code>isLocked(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#is-locked">#</a></h3><p>Checks if the given <code>node</code> is locked.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> or one of its parent nodes is locked, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="is-visible"><code>isVisible(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#is-visible">#</a></h3><p>Checks if the given <code>node</code> is visible.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> and all its parent nodes are visible, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="is-within-instance-node"><code>isWithinInstanceNode(node)</code><a aria-hidden class="header-link"tabindex="-1"href="#is-within-instance-node">#</a></h3><p>Checks if the given <code>node</code> is within an Instance node.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> is within an Instance node, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="load-fonts-async"><code>loadFontsAsync(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#load-fonts-async">#</a></h3><p>Loads the fonts used in all the text nodes within the <code>nodes</code> array. <a href="https://figma.com/plugin-docs/working-with-text/#loading-fonts"target="_blank">This function must be called before modifying any property of a text node that may cause the rendered text to change.</a></p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h3 id="set-absolute-position"><code>setAbsolutePosition(node, vector)</code><a aria-hidden class="header-link"tabindex="-1"href="#set-absolute-position">#</a></h3><p>Moves the <code>node</code> to the given <code>x</code> and <code>y</code> position relative to the page. At least one of <code>x</code> or <code>y</code> of <code>vector</code> must be specified.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>vector</code> (<code>Partial&#x3C;Vector></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="set-relaunch-button"><code>setRelaunchButton(node, relaunchButtonId [, options])</code><a aria-hidden class="header-link"tabindex="-1"href="#set-relaunch-button">#</a></h3><p>Sets a <a href="https://figma.com/plugin-docs/api/properties/nodes-setrelaunchdata/"target="_blank">relaunch button</a> on <code>node</code> for the command with the given <code>relaunchButtonId</code> as configured under the <a href="/create-figma-plugin/configuration/#relaunchbuttons"><strong><code>"relaunchButtons"</code></strong></a> key in <code>package.json</code>. Any relaunch buttons set previously will be retained.</p><p>See the <a href="/create-figma-plugin/recipes/#configuring-relaunch-buttons">recipe for configuring relaunch buttons</a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li><li><code>relaunchButtonId</code> (<code>string</code>)</li><li><code>options</code> (<code>object</code>) – <em>Optional.</em><ul><li><code>description</code> (<code>string</code>) – The text to display below the relaunch button in the Figma UI.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="sort-nodes-by-canonical-order"><code>sortNodesByCanonicalOrder&#x3C;Node>(siblingNodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#sort-nodes-by-canonical-order">#</a></h3><p>Returns the result of sorting the nodes in <code>siblingNodes</code> by their layer list order. Does not modify the original <code>siblingNodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>siblingNodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="sort-nodes-by-name"><code>sortNodesByName&#x3C;Node>(nodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#sort-nodes-by-name">#</a></h3><p>Returns the result of sorting <code>nodes</code> in alphabetical order. Does not modify the original <code>nodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="traverse-node"><code>traverseNode(node, processNode [, stopTraversal])</code><a aria-hidden class="header-link"tabindex="-1"href="#traverse-node">#</a></h3><p>Traverses <code>node</code> and its child nodes recursively in a <em>depth-first</em> manner, passing each node to the specified <code>processNode</code> callback.</p><p>Each node is also passed to a <code>stopTraversal</code> function. If you return <code>true</code> in <code>stopTraversal</code> for a particular node, then its child nodes will not be traversed.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>processNode</code> (<code>(node: SceneNode) => void</code>)</li><li><code>stopTraversal</code> (<code>(node: SceneNode) => boolean</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="traverse-node-async"><code>traverseNodeAsync(node, processNodeAsync [, stopTraversalAsync])</code><a aria-hidden class="header-link"tabindex="-1"href="#traverse-node-async">#</a></h3><p>An <code>async</code> version of <a href="#traversenodenode-processnode--stoptraversal"><code>traverseNode</code></a>, in which both callbacks are <code>async</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>processNodeAsync</code> (<code>(node: SceneNode) => Promise&#x3C;void></code>)</li><li><code>stopTraversalAsync</code> (<code>(node: SceneNode) => Promise&#x3C;boolean></code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h3 id="unset-relaunch-button"><code>unsetRelaunchButton(node [, relaunchButtonId])</code><a aria-hidden class="header-link"tabindex="-1"href="#unset-relaunch-button">#</a></h3><p>Unsets the <a href="https://figma.com/plugin-docs/api/properties/nodes-setrelaunchdata/"target="_blank">relaunch button</a> on <code>node</code> for the command with the given <code>relaunchButtonId</code>. If <code>relaunchButtonId</code> is not specified, unsets all relaunch buttons on <code>node</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li><li><code>relaunchButtonId</code> (<code>string</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="update-nodes-sort-order"><code>updateNodesSortOrder(siblingNodes)</code><a aria-hidden class="header-link"tabindex="-1"href="#update-nodes-sort-order">#</a></h3><p>Updates the layer list sort order to follow the sort order of the nodes in the <code>siblingNodes</code> array. Does not modify the original <code>siblingNodes</code> array.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>siblingNodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the layer list sort order was changed by the function, else <code>false</code>.</p><pre><code>boolean
</code></pre><h2 id="number">Number<a aria-hidden class="header-link"tabindex="-1"href="#number">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  evaluateNumericExpression,</span></span>
<span class="line"><span style="color:#d4d4d4">  isValidNumericInput</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="evaluate-numeric-expression"><code>evaluateNumericExpression(value)</code><a aria-hidden class="header-link"tabindex="-1"href="#evaluate-numeric-expression">#</a></h3><p>Evaluates the given numeric <code>expression</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>value</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the result of evaluating the given numeric <code>expression</code>, else <code>null</code> for an invalid expression.</p><pre><code>null | number
</code></pre><h3 id="is-valid-numeric-input"><code>isValidNumericInput(value [, options])</code><a aria-hidden class="header-link"tabindex="-1"href="#is-valid-numeric-input">#</a></h3><p>Checks if <code>value</code> is a numeric expression, as input by a user. “Partial” inputs are considered valid.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>value</code> (<code>string</code>)</li><li><code>options</code> (<code>object</code>) – <em>Optional.</em><ul><li><code>integersOnly</code> (<code>boolean</code>) – Set to <code>true</code> to check that the expression contains only integers. Defaults to <code>false</code>.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>value</code> is a valid numeric expression, else <code>false</code>.</p><pre><code>boolean
</code></pre><h2 id="object">Object<a aria-hidden class="header-link"tabindex="-1"href="#object">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  cloneObject,</span></span>
<span class="line"><span style="color:#d4d4d4">  compareObjects,</span></span>
<span class="line"><span style="color:#d4d4d4">  compareStringArrays,</span></span>
<span class="line"><span style="color:#d4d4d4">  deduplicateArray,</span></span>
<span class="line"><span style="color:#d4d4d4">  extractAttributes</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="clone-object"><code>cloneObject&#x3C;T>(object)</code><a aria-hidden class="header-link"tabindex="-1"href="#clone-object">#</a></h3><p>Creates a deep copy of the given object.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>T</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>object</code> (<code>T</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>T
</code></pre><h3 id="compare-objects"><code>compareObjects(a, b)</code><a aria-hidden class="header-link"tabindex="-1"href="#compare-objects">#</a></h3><p>Performs a <em>deep</em> equality comparison of objects <code>a</code> and <code>b</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>a</code> (<code>any</code>)</li><li><code>b</code> (<code>any</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>a</code> and <code>b</code> are the same, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="compare-string-arrays"><code>compareStringArrays(a, b)</code><a aria-hidden class="header-link"tabindex="-1"href="#compare-string-arrays">#</a></h3><p>Compares the string arrays <code>a</code> and <code>b</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>a</code> (<code>Array&#x3C;string></code>)</li><li><code>b</code> (<code>Array&#x3C;string></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>a</code> and <code>b</code> are the same, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="deduplicate-array"><code>deduplicateArray&#x3C;T>(array)</code><a aria-hidden class="header-link"tabindex="-1"href="#deduplicate-array">#</a></h3><p>Returns the result of deduplicating the given <code>array</code>. Does not modify the original <code>array</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>T</code> (<code>boolean | number | string</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>array</code> (<code>Array&#x3C;T></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array with unique values.</p><pre><code>Array&#x3C;T>
</code></pre><h3 id="extract-attributes"><code>extractAttributes&#x3C;PlainObject, Key>(array, attributes)</code><a aria-hidden class="header-link"tabindex="-1"href="#extract-attributes">#</a></h3><p>Extracts the specified list of <code>attributes</code> from the given <code>array</code> of plain objects.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>PlainObject</code></li><li><code>Key</code> (<code>keyof PlainObject</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>array</code> (<code>Array&#x3C;PlainObject></code>)</li><li><code>attributes</code> (<code>Key[]</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of plain objects.</p><pre><code>Array&#x3C;Pick&#x3C;PlainObject, Key>>
</code></pre><h2 id="settings">Settings<a aria-hidden class="header-link"tabindex="-1"href="#settings">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  loadSettingsAsync,</span></span>
<span class="line"><span style="color:#d4d4d4">  saveSettingsAsync</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="load-settings-async"><code>loadSettingsAsync&#x3C;Settings>(defaultSettings [, settingsKey])</code><a aria-hidden class="header-link"tabindex="-1"href="#load-settings-async">#</a></h3><p>Loads your plugin/widget’s settings (stored locally on the user’s computer under the given <code>settingsKey</code>).</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Settings</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>defaultSettings</code> (<code>Settings</code>)</li><li><code>settingsKey</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the settings. Defaults to <code>'settings'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;Settings>
</code></pre><h3 id="save-settings-async"><code>saveSettingsAsync&#x3C;Settings>(settings [, settingsKey])</code><a aria-hidden class="header-link"tabindex="-1"href="#save-settings-async">#</a></h3><p>Saves the given <code>settings</code> for your plugin/widget (stored locally on the user’s computer under the given <code>settingsKey</code>).</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Settings</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>settings</code> (<code>Settings</code>)</li><li><code>settingsKey</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the settings. Defaults to <code>'settings'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h2 id="string">String<a aria-hidden class="header-link"tabindex="-1"href="#string">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  formatErrorMessage,</span></span>
<span class="line"><span style="color:#d4d4d4">  formatSuccessMessage,</span></span>
<span class="line"><span style="color:#d4d4d4">  formatWarningMessage,</span></span>
<span class="line"><span style="color:#d4d4d4">  pluralize</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="format-error-message"><code>formatErrorMessage(message)</code><a aria-hidden class="header-link"tabindex="-1"href="#format-error-message">#</a></h3><p>Adds a <code>✘</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="format-success-message"><code>formatSuccessMessage(message)</code><a aria-hidden class="header-link"tabindex="-1"href="#format-success-message">#</a></h3><p>Adds a <code>✔</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="format-warning-message"><code>formatWarningMessage(message)</code><a aria-hidden class="header-link"tabindex="-1"href="#format-warning-message">#</a></h3><p>Adds a <code>⚠</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="pluralize"><code>pluralize(number, singular [, plural])</code><a aria-hidden class="header-link"tabindex="-1"href="#pluralize">#</a></h3><p>Returns <code>singular</code> if <code>number</code> is exactly <code>1</code>, else returns <code>plural</code>. <code>plural</code> defaults to <code>`${singular}s`</code> if not specified.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>number</code> (<code>number</code>)</li><li><code>singular</code> (<code>string</code>)</li><li><code>plural</code> (<code>string</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h2 id="ui">UI<a aria-hidden class="header-link"tabindex="-1"href="#ui">#</a></h2><div data-rehype-pretty-code-fragment=""><pre data-language="ts"data-theme="default"><code data-language="ts"data-theme="default"><span class="line"><span style="color:#7cc4f8">import</span><span style="color:#d4d4d4"> { showUI } </span><span style="color:#7cc4f8">from</span><span style="color:#d4d4d4"> </span><span style="color:#d1a8ff">'@create-figma-plugin/utilities'</span></span></code></pre></div><h3 id="show-ui"><code>showUI&#x3C;Data>(options [, data])</code><a aria-hidden class="header-link"tabindex="-1"href="#show-ui">#</a></h3><p>Renders the UI correponding to the command in a modal within the Figma UI. Specify the modal’s <code>width</code>, <code>height</code>, <code>title</code>, and whether it is <code>visible</code> via <a href="https://figma.com/plugin-docs/api/properties/figma-showui/"target="_blank"><code>options</code></a>. Optionally pass on some initialising <code>data</code> from the command to the UI.</p><p>Learn how to <a href="/create-figma-plugin/ui/">add a UI to your plugin/widget</a>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Data</code> (<code>Record&#x3C;string, unknown></code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>options</code> (<code>ShowUIOptions</code>)</li><li><code>data</code> (<code>Data</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre></div><ul class="pagination"><li class="pagination__previous"><a href="/create-figma-plugin/ui/">UI</a></li><li class="pagination__next"><a href="/create-figma-plugin/recipes/">Recipes</a></li></ul></div></main><script src="/create-figma-plugin/script.js"></script><script>var sc_project=12531644,sc_invisible=1,sc_security="95d0263e"</script><script async src="https://www.statcounter.com/counter/counter.js"></script><noscript><img src="https://c.statcounter.com/12531644/0/95d0263e/1/"alt=""></noscript></body></html>